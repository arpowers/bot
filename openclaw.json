{
  "gateway": {
    "mode": "local",
    "port": 3000,
    "bind": "lan",
    "auth": {
      "token": "${GATEWAY_TOKEN}"
    }
  },

  "agents": {
    "defaults": {
      "workspace": "${BOT_WORKSPACE:-~/dev/bot/workspace}",
      "model": {
        "primary": "anthropic/claude-opus-4-5",
        "fallbacks": ["anthropic/claude-sonnet-4-5", "google/gemini-2.0-flash"]
      },
      "compaction": {
        "memoryFlush": {
          "enabled": true,
          "softThresholdTokens": 4000
        }
      }
    }
  },

  "session": {
    "scope": "per-sender",
    "reset": {
      "mode": "idle",
      "idleMinutes": 240
    }
  },

  "skills": {
    "load": {
      "extraDirs": ["${BOT_SKILLS:-~/dev/bot/skills}"]
    }
  },

  "channels": {
    "telegram": {
      "botToken": "${TELEGRAM_BOT_TOKEN}"
    }
  },

  "commands": {
    "restart": true
  }
}
